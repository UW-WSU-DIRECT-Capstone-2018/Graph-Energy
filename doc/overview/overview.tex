%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%    Overview for Chen/Stetina/Wildman Capstone project
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%------------------------------------------------------------------------------
%	PACKAGES AND DOCUMENT OPTIONS
%------------------------------------------------------------------------------

%Page options
\documentclass[paper=a4, fontsize=12pt]{article}
\usepackage[margin=1in]{geometry}

%Font options
%\usepackage{fontspec}

%Math packages
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amsthm}
\usepackage{bm}

%Graphics packages
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{tikz}
\usetikzlibrary{shapes,arrows,chains,calc}

%Section options
\usepackage{sectsty}
\allsectionsfont{\normalfont \scshape}

%Bibliography options
% \usepackage[backend=biber,style=chem-acs]{biblatex}

%Custom commands
\renewcommand{\abstractname}{\Large Summary}
\newcommand{\softname}{\texttt{graph\_energy}}

%------------------------------------------------------------------------------
%	TITLE
%------------------------------------------------------------------------------

\title{
\softname\ Overview
}

\author{You Chen, Torin Stetina, Andrew Wildman}

\date{May 3, 2018}

\begin{document}

\maketitle

%------------------------------------------------------------------------------
%	BODY
%------------------------------------------------------------------------------

\begin{abstract}
  The goal of this project is twofold:
  \begin{enumerate}
    \item Develop a software framework that predicts the energy distribution of a group of microstates from their topological parameters
    \item Validate this framework on two sets of example data,
      specifically an ideal ice model and a lattice gas model.
  \end{enumerate}
\end{abstract}

\section*{Motivation}

% TODO: Motivation

\section*{Approach}

% TODO: Motivate graph energy

The central prediction capabilities of \softname\ are provided through a machine learning algorithm.
Because the relationship between the graph connections and the energy is expected to be non-linear,
(e.g. for a hydrogen bond graph, four edges on a node will likely be lower in energy than three or five)
a simple, feed forward neural net has been chosen as the prediction algorithm.
Neural networks have a large meta-parameter space,
so an optimization of these meta-parameters will be built into the software itself.

\subsection*{Use Cases}

The \softname\ package has four main use cases:

\begin{enumerate}
  \item Train a neural net to reproduce the energy distribution of a set of microstates,
    given graph topological parameters that define the microstate, temperature, and population of the microstate at that temperature.
  \item Evaluate the accuracy of nets trained on different sets of topological parameters at capturing the energy distribution. 
  \item Use previously trained neural nets to predict the energy distribution of microstates whose energy distribution was previously unknown.
  \item Visualize the predicted energy distribution and, if available, contrast it with the known energy distribution.
\end{enumerate}

\subsection*{Data Description}

\textbf{Note:} This section is out of date once we get the new output that includes the true microstate energy.

% TODO: Update data description

\vspace{1em}

\noindent The raw data comes from the Clark Group's Shannon entropy program.
It consists of a set of \texttt{output.dat}\ files,
each of which is generated at a given temperature
and contain the topological parameter values of each microstate, as well as the population at that temperature.
An example of an \text{output.dat} file is given in figure \ref{output}.

\begin{figure}
  \centering
  \includegraphics[width=0.8\textwidth]{output_file}
  \caption[width=0.8\textwidth]{An example output file from the Clark Group's Shannon entropy program}
  \label{output}
\end{figure}

% TODO: Input file spec

\section*{Software Design}

\newpage

\subsection*{Software flow}

\input{software_flow}

The rhombuses represent inputs or outputs to the program,
rectangles represent processes,
diamonds represent tests,
and rounded boxes delimit the bounds of the program.
The dashed boxes represent software components/classes, which will be described in the next section.

\subsection*{Component specification}

{\noindent \large \textbf{Parser} }

The parser takes the \texttt{output.dat} files as well as the input file,
then it converts them into the expected inputs for the parser. 
 
\underline{Input file}:
\begin{itemize}
  \item \texttt{/path/to/output.dat}
  \item Job type: \texttt{train} or \texttt{predict}
  \item Meta parameter options for neural net
\end{itemize}

\underline{Outputs}:
\begin{itemize}
  \item Dataframe object from columns of \texttt{output.dat}
  \item Dictionary of meta parameters and job type for neural net
\end{itemize}

\underline{Exceptions}:
\begin{itemize}
  \item Handle wrong \texttt{.dat} file format
  \item Handle input file format errors
\end{itemize}


{\noindent \large \textbf{Predictor} }

% TODO: Predictor spec

%\begin{itemize}
%  \underline{Possible Inputs}:
%  \item 
%
%  \underline{Outputs}:
%  \item 
%
%  \underline{Exceptions}:
%  \item
%\end{itemize}

{\noindent \large \textbf{Visualizer} }

% TODO: Visualizer spec

%\begin{itemize}
%  \underline{Possible Inputs}:
%  \item 
%
%  \underline{Outputs}:
%  \item 
%
%  \underline{Exceptions}:
%  \item
%\end{itemize}

\end{document}
